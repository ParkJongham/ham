# 감성분석을 통한 분류 (Sentimental Analysis Classification)


* 텍스트 데이터에서만 얻을 수 있는 유용한 정보란?
	- 사용자 (소비자) 에게 얻을 수 있는 대량의 텍스트 데이터에서 소비자의 주관적 반응을 확인할 수 있고, 이를 통해 트렌트를 파악할 수 있다.

* 텍스트 감성분석의 2가지 접근법
	- 1. 기계학습 기반 접근법 :
		- 주어진 문자 데이터에 존재하는 패턴을 학습해 감성을 분류하는 예측 모형을 구축
		- 학습한 데이터와 유사한 특성을 갖는 분석 대상 데이터에 적용
		- 분석하고자 하는 대상에 대해 라벨링되어 있는 데이터가 충분히 있어야 한다.
		- 라벨링 된 데이터가 충분하지 않다면 모델 구축이 불가능하다.
	- 2. 감성사전 기반 접근법 : 
		- 수집된 문자 데이터를 전처리한 후 미리 구축된 감성 사전과 매칭한 뒤 극성의 감성어가 많이 나오는지를 정령적으로 평가하여 분석
		- 감성사전의 단어들은 범주 값과 범주별 특성을 나타내는 감성 점수로 구성
		- 감성을 측정하려는 문장 중 나온 감성 단어가 사전에 등록되어 있지 않을 경우 측정이 불가능
		- 감성사전 구축 시 해당 분야에서 사용되는 대부분의 감성어를 포함해야하며, 분석 대상에 따라 명확히 달라지는 감성어에 대한 고려가 필수적


## 텍스트 데이터의 특징및 사전 생성법

- 텍스트는 기호일 뿐이며, 텍스트가 가지는 의미를 기호가 나타내지 않는다.

- 텍스트 데이터로부터 사전을 만들기 위해서는 모든 문장을 단어 단위로 `split` 하고, 딕셔너리 구조로 표현

- 사전과 같이 `인덱스 : 텍스트	` 구조로 생성 하지만 텍스트 데이터를 숫자로 변환하기 위해서는 `텍스트 : 인덱스` 구조로 변환이 필요

- 사전 구축에는 `<PAD>, <BOS>, <UNK>` 가 관례적으로 사전의 맨 앞에 들어간다.
	- `<PAD>` : 패딩용 단어
	- `<BOS>` : 문장의 시작지점
	- `<UNK>` : 사전에 없는 Unkown 단어


## embedding layer

단어 사전을 생성했지만 각 단어가 기진 의미와 대응되는 것은 아니다. 따라서 각 단어가 가지는 의미를 훈련 가능한 파라미터로 놓고 학습을 해야한다. Tensorflow, Pytorch 에서는 이런 의미벡터 파라미터를 구현한 embedding layer 를 제공한다.

텍스트는 `word - interger - lookup table - embedding vector` 과정을 통해 단순한 워드 벡터가 embedding layer 의 벡터로 된다.

이때 주의할 점은 __embedding layer 의 인풋이 되는 문장 벡터의 길이가 일정해야 한다는 것__ 이다.

이 문제를 쉽게 해결하고자 tensorflow 에서 `keras.preporcessing.sequence.pad_sequences` 라는 함수를 통해 문장 벡터 __뒤__에 패딩 (`<PAD>`) 을 추가해줌으로써 길이를 일정하게 맞춰준다.


# 사용 가능 모델


## RNN (Recurrent Neural Network)

텍스트 데이터와 같이 시퀀스 (sequence) 형태의 데이터를 를 다룰때 주로 사용되는 모델이다. RNN 은 state machine 로 설계되어 있어 시간의 흐름에 따라입력이 변하는 상태를 잘 묘사할 수 있다. 즉, 새롭게 처음 입력된 값이 다음 입력에도 남아있어 처리에 도움을 줘야 한다. 마시 사람의 대화에서 앞의 흐름을 이해하는 것과 같이 말이다.


## 1 - D CNN (1 - D Convolution Neural Network)

텍스트 데이터를 처리하기위한 모델로 RNN 뿐만 아니라 1 - D CNN 모델을 사용하여 처리할 수도 있다.

이 모델의 특징은 문장 전체를 한꺼번에 한 방향으로 길이가 7인 필터로 스캔하면서 7단어 이내에서 발견되는 특징을 추출하여 이를 통해 문장을 분류하는 방식으로 사용된다.

RNN 에비해 크게 떨어지지 않은 효율, 효율적인 병렬처리 속도때문에 학습속도도 빠르게 진행된다는 장점이 있다.

## GlobalMaxPooling1D() layer 사용

가장 간단히 사용할 수 있는 방법으로, 전체 문장 중에서 단 하나의 가장 중요한 단어만 피처로 추출, 이를 통해 문장이 긍정적인지 부정적인지 평가하는 방식이다.


위 방법들 외에도 1 -D CNN 과 RNN 모델의 혼합, FFN (Feed Forward Network) 레이어로 구성 및 Transformer 레이어 등 여러 방법이 있다.
